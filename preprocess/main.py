import MySQLdbimport reimport jsonimport loggingimport commentsdef getstories():    with open('/Users/ycymio/Downloads/stories') as json_data:        for myJson in json_data:            try:                d = json.loads(myJson)                if d.get("id") == None or d.get("by") == None or d.get("url") == None \                        or d.get("title") == None or d.get("descendants") == None \                        or d.get("descendants") == "-1" or d.get("descendants") == "0" :                    continue                id = int((d["id"]).decode("utf-8"))                by = (d["by"]).decode("utf-8")                score = 0                if d.get("score") != None:                    score = d["score"]                time = d.get("time", "")                title = d["title"] ## here                url = d["url"]  ## here                text = d.get("text", "")  ## here                descendants = d["descendants"].decode("utf-8")                author = d.get("author", by)                time_ts = d.get("time_ts", "")                # deleteThings = re.compile('\u200b', re.S)                # print(title)                # print(type(title))                # title.replace(u'\u200B', '')                # ",                # "    removeBackSlash = re.compile('\\/')\n",                # "    x = re.sub(removeBackSlash, \"\", x)\n",                # "    x = re.sub(removeBlock, \"\", x)\n",                # "    return x.strip()"                # re.sub(pattern, repl, string, count, flags)                conn = MySQLdb.connect(host="localhost", user="ycy", passwd="123456", db="sharing", charset="utf8")                cursor = conn.cursor()                sql = 'insert into stories(id, byauthor, score, timec, title, url, text, descendants, author, time_ts) '\                            'values(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'                param = (id, by, score, time, title, url, text, descendants, author, time_ts)                cursor.execute(sql, param)                cursor.close()                conn.commit()                conn.close()            except Exception, e:                print(d)                print(e)                print("_____")def showindex():    global entry    conn = MySQLdb.connect(host="localhost", user="ycy", passwd="123456", db="sharing", charset="utf8")    cursor = conn.cursor()    sql = "select id, byauthor, score, title from stories_text order by timec desc LIMIT 0, 10 " # LIMIT 5,10    cursor.execute(sql)#param = (rank, people)#    cursor.execute(sql, param)    content = cursor.fetchall()    entry = []    for item in content:        entry.append({"id": item[0], "byauthor": item[1], "score": item[2], "title": item[3]})    # entry = [{"id": content[0][0], "byauthor": content[]    #    entry = [{"title":"hello", "text":"world"}]    print type(entry[0])    print entryif __name__ == "__main__":    showindex()    # logging.basicConfig(filename='/Users/ycymio/Downloads/log.log')    # comments.getcomments()    # flask.    # print " end "